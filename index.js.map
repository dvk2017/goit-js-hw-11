{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function fetchFromPxb(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '47762015-3b880641f1939f09591269c8d';\n\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export default function makeMarkup(images) {\n  return images.reduce(\n    (\n      html,\n      { webformatURL, largeImageURL, tags, likes, views, comments, downloads }\n    ) => {\n      return (html += `\n        <li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      data-source=\"${largeImageURL}\"\n      alt=\"${tags}\"\n    />\n  </a>\n  \n<diw class=\"img-prop-wrap\">\n    <div class=\"img-prop\">\n    <h3>Likes</h3>\n    <p>${likes}</p>\n    </div>\n  <div class=\"img-prop\">\n    <h3>Viewes</h3>\n    <p>${views}</p>\n    </div>\n  <div class=\"img-prop\">\n    <h3>Comments</h3>\n    <p>${comments}</p>\n    </div>\n  <div class=\"img-prop\">\n    <h3>Downloads</h3>\n    <p>${downloads}</p>\n    </div>\n</diw>\n  \n</li>\n        `);\n    },\n    ''\n  );\n}\n","import fetchFromPxb from './js/pixabay-api.js';\nimport makeMarkup from './js/render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst inputField = document.querySelector('.query');\nconst marcupGallery = document.querySelector('.gallery');\nconst loadingMessage = document.querySelector('.loading-message');\n\nlet lightbox1 = new SimpleLightbox('.gallery .gallery-link', {\n  captionsData: 'alt', //'alt',\n  captionDelay: 250,\n  /* options */\n});\n\nfunction search() {\n  if (inputField.value.trim() === '') {\n    return;\n  }\n\n  marcupGallery.innerHTML = '';\n\n  showSpinner();\n\n  fetchFromPxb(inputField.value)\n    .then(ans => {\n      inputField.value = '';\n      if (ans.hits.length === 0) {\n        throw new Error('noImagesMatching');\n      }\n\n      return ans.hits;\n    })\n    .then(images => {\n      const markup = makeMarkup(images);\n\n      marcupGallery.insertAdjacentHTML('beforeend', markup);\n\n      lightbox1.refresh();\n    })\n    .catch(err => {\n      if (err.message === 'noImagesMatching') {\n        iziToast.show({\n          messageColor: '#fff',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          timeout: 3000,\n          maxWidth: '432px',\n          messageSize: '16px',\n          icon: 'material-icons',\n          iconText: 'highlight_off',\n          iconColor: '#ffffff',\n          color: '#ef4040', // blue, red, green, yellow\n          position: 'topRight', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n        });\n      } else {\n        iziToast.show({\n          title: `${err}`,\n          titleColor: '#fff',\n          messageColor: '#fff',\n          message: 'Unable loading images',\n          timeout: 3000,\n          maxWidth: '432px',\n          messageSize: '16px',\n          icon: 'material-icons',\n          iconText: 'highlight_off',\n          iconColor: '#ffffff',\n          color: '#ef4040', // blue, red, green, yellow\n          position: 'topRight', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n        });\n      }\n    })\n    .finally(() => hideSpinner());\n}\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  search(e);\n});\n\nfunction showSpinner() {\n  loadingMessage.classList.remove('visually-hidden');\n}\n\nfunction hideSpinner() {\n  return loadingMessage.classList.add('visually-hidden');\n}\n"],"names":["fetchFromPxb","query","BASE_URL","API_KEY","searchParams","response","makeMarkup","images","html","webformatURL","largeImageURL","tags","likes","views","comments","downloads","inputField","marcupGallery","loadingMessage","lightbox1","SimpleLightbox","search","showSpinner","ans","markup","err","iziToast","hideSpinner","form","e"],"mappings":"6vBAAe,SAASA,EAAaC,EAAO,CAC1C,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAe,IAAI,gBAAgB,CACvC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CClBe,SAASC,EAAWC,EAAQ,CACzC,OAAOA,EAAO,OACZ,CACEC,EACA,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAEhEP,GAAQ;AAAA;AAAA,kCAEYE,CAAa;AAAA;AAAA;AAAA,aAGlCD,CAAY;AAAA,qBACJC,CAAa;AAAA,aACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAORC,CAAK;AAAA;AAAA;AAAA;AAAA,SAILC,CAAK;AAAA;AAAA;AAAA;AAAA,SAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,SAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,UAOd,EACJ,CACA,CClCA,MAAMC,EAAa,SAAS,cAAc,QAAQ,EAC5CC,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAiB,SAAS,cAAc,kBAAkB,EAEhE,IAAIC,EAAY,IAAIC,EAAe,yBAA0B,CAC3D,aAAc,MACd,aAAc,GAEhB,CAAC,EAED,SAASC,GAAS,CACZL,EAAW,MAAM,KAAI,IAAO,KAIhCC,EAAc,UAAY,GAE1BK,IAEAtB,EAAagB,EAAW,KAAK,EAC1B,KAAKO,GAAO,CAEX,GADAP,EAAW,MAAQ,GACfO,EAAI,KAAK,SAAW,EACtB,MAAM,IAAI,MAAM,kBAAkB,EAGpC,OAAOA,EAAI,IACjB,CAAK,EACA,KAAKhB,GAAU,CACd,MAAMiB,EAASlB,EAAWC,CAAM,EAEhCU,EAAc,mBAAmB,YAAaO,CAAM,EAEpDL,EAAU,QAAO,CACvB,CAAK,EACA,MAAMM,GAAO,CACRA,EAAI,UAAY,mBAClBC,EAAS,KAAK,CACZ,aAAc,OACd,QACE,2EACF,QAAS,IACT,SAAU,QACV,YAAa,OACb,KAAM,iBACN,SAAU,gBACV,UAAW,UACX,MAAO,UACP,SAAU,UACpB,CAAS,EAEDA,EAAS,KAAK,CACZ,MAAO,GAAGD,CAAG,GACb,WAAY,OACZ,aAAc,OACd,QAAS,wBACT,QAAS,IACT,SAAU,QACV,YAAa,OACb,KAAM,iBACN,SAAU,gBACV,UAAW,UACX,MAAO,UACP,SAAU,UACpB,CAAS,CAET,CAAK,EACA,QAAQ,IAAME,EAAW,CAAE,EAChC,CAEA,MAAMC,EAAO,SAAS,cAAc,MAAM,EAE1CA,EAAK,iBAAiB,SAAUC,GAAK,CACnCA,EAAE,eAAc,EAChBR,EAAQ,CACV,CAAC,EAED,SAASC,GAAc,CACrBJ,EAAe,UAAU,OAAO,iBAAiB,CACnD,CAEA,SAASS,GAAc,CACrB,OAAOT,EAAe,UAAU,IAAI,iBAAiB,CACvD"}
{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default function makeMarkup(images) {\n  return images.reduce(\n    (\n      html,\n      { webformatURL, largeImageURL, tags, likes, views, comments, downloads }\n    ) => {\n      return (html += `\n        <li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      data-source=\"${largeImageURL}\"\n      alt=\"${tags}\"\n    />\n  </a>\n  \n<diw class=\"img-prop-wrap\">\n    <div class=\"img-prop\">\n    <h3>Likes</h3>\n    <p>${likes}</p>\n    </div>\n  <div class=\"img-prop\">\n    <h3>Viewes</h3>\n    <p>${views}</p>\n    </div>\n  <div class=\"img-prop\">\n    <h3>Comments</h3>\n    <p>${comments}</p>\n    </div>\n  <div class=\"img-prop\">\n    <h3>Downloads</h3>\n    <p>${downloads}</p>\n    </div>\n</diw>\n  \n</li>\n        `);\n    },\n    ''\n  );\n}\n","import makeMarkup from './render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst inputField = document.querySelector('.query');\nconst marcupGallery = document.querySelector('.gallery');\nconst loadingMessage = document.querySelector('.loading-message');\n\nlet lightbox1 = new SimpleLightbox('.gallery .gallery-link', {\n  captionsData: '<input type=\"email\" name=\"email\" autofocus />', //'alt',\n  captionDelay: 250,\n  /* options */\n});\n\nexport default function search(evt) {\n  evt.preventDefault();\n\n  if (inputField.value.trim() === '') {\n    return;\n  }\n\n  marcupGallery.innerHTML = '';\n\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '47762015-3b880641f1939f09591269c8d';\n\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: inputField.value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  loadingMessage.classList.remove('visually-hidden');\n\n  return fetch(`${BASE_URL}?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(ans => {\n      inputField.value = '';\n      if (ans.hits.length === 0) {\n        iziToast.show({\n          messageColor: '#fff',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          timeout: 0,\n          maxWidth: '432px',\n          messageSize: '16px',\n          iconUrl: '../img/cancel-circle.svg',\n          color: '#ef4040', // blue, red, green, yellow\n          position: 'topRight', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n        });\n        throw new Error('there are no images matching your search query');\n      }\n\n      return ans.hits;\n    })\n    .then(images => {\n      const markup = makeMarkup(images);\n\n      // const marcupGallery = document.querySelector('.gallery');\n      marcupGallery.insertAdjacentHTML('beforeend', markup);\n\n      // new SimpleLightbox('.gallery .gallery-link', {\n      //   captionsData: '<input type=\"email\" name=\"email\" autofocus />', //'alt',\n      //   captionDelay: 250,\n      //   /* options */\n      // });\n      lightbox1.refresh();\n    })\n    .catch(err => console.log(err))\n    .finally(() => loadingMessage.classList.add('visually-hidden'));\n}\n","import search from './js/pixabay-api';\n\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', search);\n\n// ================ ФС103, модуль 11, заняття 22 ==================\n\n// const API_KEY = '677f8f030476123f76a701ab';\n// const BASE_URL = `https://${API_KEY}.mockapi.io/api`;\n\n// function fetchBooks() {\n//   const options = {\n//     method: 'GET',\n//   };\n\n//   return fetch(`${BASE_URL}/books`, options).then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.statusText); // response.statusText\n//     }\n//     return response.json();\n//   });\n// }\n\n// function fetchBookById(bookId) {\n//   const options = {\n//     method: 'GET',\n//   };\n\n//   return fetch(`${BASE_URL}/books/${bookId}`, options).then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.statusText); // response.statusText\n//     }\n//     return response.json();\n//   });\n// }\n\n// function addBook(book) {\n//   const options = {\n//     method: 'POST',\n//     body: JSON.stringify(book),\n//     headers: {\n//       'Content-Type': 'application/json; charset=UTF-8',\n//     },\n//   };\n\n//   return fetch(`${BASE_URL}/books`, options).then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.statusText); // response.statusText\n//     }\n//     return response.json();\n//   });\n// }\n\n// function updateBookById(update, bookId) {\n//   const options = {\n//     method: 'PUT',\n//     body: JSON.stringify(update),\n//     headers: {\n//       'Content-Type': 'application/json; charset=UTF-8',\n//     },\n//   };\n\n//   return fetch(`${BASE_URL}/books/${bookId}`, options).then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.statusText); // response.statusText\n//     }\n//     return response.json();\n//   });\n// }\n\n// function deleteBook(bookId) {\n//   const options = {\n//     method: 'DELETE',\n//   };\n\n//   return fetch(`${BASE_URL}/books/${bookId}`, options).then(response => {\n//     if (!response.ok) {\n//       throw new Error(response.statusText); // response.statusText\n//     }\n//     return response.json();\n//   });\n// }\n\n// const book1 = {\n//   id: '13',\n//   titel: 'Lord of the rings III',\n//   author: 'John Tolkien',\n//   genres: ['chivalric novel', 'adventure', 'fantasy'],\n//   rating: 30,\n// };\n\n// fetchBooks()\n//   .then(data => console.log(data))\n//   .catch(err => console.log(`❌ Something went wrong: ${err}`));\n\n// fetchBookById(2)\n//   .then(data => console.log(data))\n//   .catch(err => console.log(`❌ Something went wrong: ${err}`));\n\n// addBook(book1)\n//   .then(data => console.log(data))\n//   .catch(err => console.log(`❌ Something went wrong: ${err}`));\n\n// updateBookById(book1, 2)\n//   .then(data => console.log(data))\n//   .catch(err => console.log(`❌ Something went wrong: ${err}`));\n\n// deleteBook(13)\n//   .then(data => console.log(data))\n//   .catch(err => console.log(`❌ Something went wrong: ${err}`));\n"],"names":["makeMarkup","images","html","webformatURL","largeImageURL","tags","likes","views","comments","downloads","inputField","marcupGallery","loadingMessage","lightbox1","SimpleLightbox","search","evt","BASE_URL","API_KEY","searchParams","response","ans","iziToast","markup","err","form"],"mappings":"6vBAAe,SAASA,EAAWC,EAAQ,CACzC,OAAOA,EAAO,OACZ,CACEC,EACA,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAEhEP,GAAQ;AAAA;AAAA,kCAEYE,CAAa;AAAA;AAAA;AAAA,aAGlCD,CAAY;AAAA,qBACJC,CAAa;AAAA,aACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAORC,CAAK;AAAA;AAAA;AAAA;AAAA,SAILC,CAAK;AAAA;AAAA;AAAA;AAAA,SAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,SAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,UAOd,EACJ,CACA,CCnCA,MAAMC,EAAa,SAAS,cAAc,QAAQ,EAC5CC,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAiB,SAAS,cAAc,kBAAkB,EAEhE,IAAIC,EAAY,IAAIC,EAAe,yBAA0B,CAC3D,aAAc,gDACd,aAAc,GAEhB,CAAC,EAEc,SAASC,EAAOC,EAAK,CAGlC,GAFAA,EAAI,eAAc,EAEdN,EAAW,MAAM,KAAI,IAAO,GAC9B,OAGFC,EAAc,UAAY,GAE1B,MAAMM,EAAW,2BACXC,EAAU,qCAEVC,EAAe,IAAI,gBAAgB,CACvC,IAAKD,EACL,EAAGR,EAAW,MACd,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAAE,EAAe,UAAU,OAAO,iBAAiB,EAE1C,MAAM,GAAGK,CAAQ,IAAIE,CAAY,EAAE,EACvC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAO,CAEX,GADAX,EAAW,MAAQ,GACfW,EAAI,KAAK,SAAW,EACtB,MAAAC,EAAS,KAAK,CACZ,aAAc,OACd,QACE,2EACF,QAAS,EACT,SAAU,QACV,YAAa,OACb,QAAS,2BACT,MAAO,UACP,SAAU,UACpB,CAAS,EACK,IAAI,MAAM,gDAAgD,EAGlE,OAAOD,EAAI,IACjB,CAAK,EACA,KAAKpB,GAAU,CACd,MAAMsB,EAASvB,EAAWC,CAAM,EAGhCU,EAAc,mBAAmB,YAAaY,CAAM,EAOpDV,EAAU,QAAO,CACvB,CAAK,EACA,MAAMW,GAAO,QAAQ,IAAIA,CAAG,CAAC,EAC7B,QAAQ,IAAMZ,EAAe,UAAU,IAAI,iBAAiB,CAAC,CAClE,CC7EA,MAAMa,EAAO,SAAS,cAAc,MAAM,EAE1CA,EAAK,iBAAiB,SAAUV,CAAM"}